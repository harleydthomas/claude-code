import { Text } from "ink";
import type { Agent } from "../types.js";
import { Code, Tool, Prompt, Working, Response, Option } from "../components/index.js";

export { Option };

// Agent 1: Refactor auth - outputLines as array
const agent1OutputLines = [
  <Prompt>Refactor the auth module to use a centralized AuthService class</Prompt>,
  <Text> </Text>,
  <Response>I'll analyze the existing auth implementation and create a unified service.</Response>,
  <Text> </Text>,
  <Tool name="Glob" args="src/auth/**/*.ts" />,
  <Text>{`  ⎿  Found 4 files`}</Text>,
  <Text>{`     src/auth/login.ts`}</Text>,
  <Text>{`     src/auth/logout.ts`}</Text>,
  <Text>{`     src/auth/token.ts`}</Text>,
  <Text>{`     src/auth/refresh.ts`}</Text>,
  <Text> </Text>,
  <Tool name="Read" args="src/auth/token.ts" />,
  <Text>{"  ⎿  Read 67 lines"}</Text>,
  <Text> </Text>,
  <Code>{` 1  import jwt from 'jsonwebtoken';`}</Code>,
  <Code>{` 2  import { config } from '../config';`}</Code>,
  <Code>{` 3`}</Code>,
  <Code>{` 4  const TOKEN_EXPIRY = '15m';`}</Code>,
  <Code>{` 5  const REFRESH_EXPIRY = '7d';`}</Code>,
  <Code>{` 6`}</Code>,
  <Code>{` 7  export function generateToken(userId: string): string {`}</Code>,
  <Code>{` 8    return jwt.sign({ userId }, config.jwtSecret, {`}</Code>,
  <Code>{` 9      expiresIn: TOKEN_EXPIRY,`}</Code>,
  <Code>{`10    });`}</Code>,
  <Code>{`11  }`}</Code>,
  <Code>{`12`}</Code>,
  <Code>{`13  export function generateRefreshToken(userId: string): string {`}</Code>,
  <Code>{`14    return jwt.sign({ userId, type: 'refresh' }, config.jwtSecret, {`}</Code>,
  <Code>{`15      expiresIn: REFRESH_EXPIRY,`}</Code>,
  <Code>{`16    });`}</Code>,
  <Code>{`17  }`}</Code>,
  <Code>{`18`}</Code>,
  <Code>{`19  export function verifyToken(token: string): { userId: string } | null {`}</Code>,
  <Code>{`20    try {`}</Code>,
  <Code>{`21      return jwt.verify(token, config.jwtSecret) as { userId: string };`}</Code>,
  <Code>{`22    } catch {`}</Code>,
  <Code>{`23      return null;`}</Code>,
  <Code>{`24    }`}</Code>,
  <Code>{`25  }`}</Code>,
  <Text> </Text>,
  <Tool name="Read" args="src/auth/login.ts" />,
  <Text>{"  ⎿  Read 45 lines"}</Text>,
  <Text> </Text>,
  <Text>{"Found scattered auth logic across 4 files with duplicated token handling. I'll consolidate into a single AuthService."}</Text>,
  <Text> </Text>,
  <Tool name="Write" args="src/auth/AuthService.ts" />,
  <Text>{"  ⎿  Wrote 89 lines"}</Text>,
  <Text> </Text>,
  <Code>{` 1  import jwt from 'jsonwebtoken';`}</Code>,
  <Code>{` 2  import { config } from '../config';`}</Code>,
  <Code>{` 3  import { db } from '../db';`}</Code>,
  <Code>{` 4`}</Code>,
  <Code>{` 5  interface TokenPair {`}</Code>,
  <Code>{` 6    accessToken: string;`}</Code>,
  <Code>{` 7    refreshToken: string;`}</Code>,
  <Code>{` 8  }`}</Code>,
  <Code>{` 9`}</Code>,
  <Code>{`10  export class AuthService {`}</Code>,
  <Code>{`11    private static readonly TOKEN_EXPIRY = '15m';`}</Code>,
  <Code>{`12    private static readonly REFRESH_EXPIRY = '7d';`}</Code>,
  <Code>{`13`}</Code>,
  <Code>{`14    async login(email: string, password: string): Promise<TokenPair> {`}</Code>,
  <Code>{`15      const user = await db.users.findByEmail(email);`}</Code>,
  <Code>{`16      if (!user || !await this.verifyPassword(password, user.hash)) {`}</Code>,
  <Code>{`17        throw new AuthError('Invalid credentials');`}</Code>,
  <Code>{`18      }`}</Code>,
  <Code>{`19      return this.generateTokenPair(user.id);`}</Code>,
  <Code>{`20    }`}</Code>,
  <Code>{`21`}</Code>,
  <Code>{`22    async refresh(refreshToken: string): Promise<TokenPair> {`}</Code>,
  <Code>{`23      const payload = this.verifyToken(refreshToken);`}</Code>,
  <Code>{`24      if (!payload || payload.type !== 'refresh') {`}</Code>,
  <Code>{`25        throw new AuthError('Invalid refresh token');`}</Code>,
  <Code>{`26      }`}</Code>,
  <Code>{`27      return this.generateTokenPair(payload.userId);`}</Code>,
  <Code>{`28    }`}</Code>,
  <Code>{`29`}</Code>,
  <Code>{`30    async logout(userId: string): Promise<void> {`}</Code>,
  <Code>{`31      await db.sessions.invalidate(userId);`}</Code>,
  <Code>{`32    }`}</Code>,
  <Code>{`33  }`}</Code>,
  <Text> </Text>,
  <Prompt>Is it possible to have the pane labels be positioned inline with the top border of its containing Box element?</Prompt>,
  <Text> </Text>,
  <Response>Yes, we can achieve a fieldset-legend style by using negative margin to pull the title up into the border. Let me update the components.</Response>,
  <Text> </Text>,
  <Tool name="Read" args="src/components/AgentList.tsx" />,
  <Text>{"  ⎿  Read 28 lines"}</Text>,
  <Text> </Text>,
  <Tool name="Update" args="src/components/AgentList.tsx" />,
  <Text>{"  ⎿  Added 4 lines, removed 2 lines"}</Text>,
  <Text> </Text>,
  <Code>{`11  export function AgentList({ agents, selectedIndex }: AgentListProps) {`}</Code>,
  <Code>{`12    return (`}</Code>,
  <Code>{`13 -    <Box flexDirection="column" padding={1}>`}</Code>,
  <Code>{`14 -      <Hotkey word="Agents" hotkey="a" />`}</Code>,
  <Code>{`15 -    </Box>`}</Code>,
  <Code>{`16 +    <Box flexDirection="column" paddingX={1}>`}</Code>,
  <Code>{`17 +      <Box marginTop={-1}>`}</Code>,
  <Code>{`18 +        <Hotkey word="Agents" hotkey="a" />`}</Code>,
  <Code>{`19 +      </Box>`}</Code>,
  <Code>{`20        <Box flexDirection="column" marginTop={1}>`}</Code>,
  <Code>{`21          {agents.map((agent, index) => (`}</Code>,
  <Code>{`22            <Box key={agent.id} gap={1}>`}</Code>,
  <Code>{`23              <Text>{index === selectedIndex ? "▶" : "  "}</Text>`}</Code>,
  <Code>{`24              <Text inverse={index === selectedIndex}>{agent.name}</Text>`}</Code>,
  <Code>{`25              <Spacer />`}</Code>,
  <Code>{`26              <AgentStatusIndicator status={agent.status} />`}</Code>,
  <Code>{`27            </Box>`}</Code>,
  <Code>{`28          ))}`}</Code>,
  <Code>{`29        </Box>`}</Code>,
  <Code>{`30        <Spacer />`}</Code>,
  <Code>{`31        <Box marginBottom={-1}>`}</Code>,
  <Code>{`32          <Hotkey word="New Agent" hotkey="n" />`}</Code>,
  <Code>{`33        </Box>`}</Code>,
  <Code>{`34      </Box>`}</Code>,
  <Code>{`35    );`}</Code>,
  <Code>{`36  }`}</Code>,
  <Text> </Text>,
  <Working>Channelling</Working>,
  <Text> </Text>,
];

// Agent 3: Write tests - outputLines as array
const agent3OutputLines = [
  <Prompt>Help me add tests to my project</Prompt>,
  <Text> </Text>,
  <Response>I'll analyze the codebase for test coverage and help you set up testing.</Response>,
  <Text> </Text>,
  <Tool name="Read" args="package.json" />,
  <Text>{"  ⎿  Read 42 lines"}</Text>,
  <Text> </Text>,
  <Code>{` 1  {`}</Code>,
  <Code>{` 2    "name": "my-app",`}</Code>,
  <Code>{` 3    "version": "1.0.0",`}</Code>,
  <Code>{` 4    "type": "module",`}</Code>,
  <Code>{` 5    "scripts": {`}</Code>,
  <Code>{` 6      "dev": "vite",`}</Code>,
  <Code>{` 7      "build": "vite build",`}</Code>,
  <Code>{` 8      "preview": "vite preview"`}</Code>,
  <Code>{` 9    },`}</Code>,
  <Code>{`10    "dependencies": {`}</Code>,
  <Code>{`11      "react": "^18.2.0",`}</Code>,
  <Code>{`12      "react-dom": "^18.2.0"`}</Code>,
  <Code>{`13    },`}</Code>,
  <Code>{`14    "devDependencies": {`}</Code>,
  <Code>{`15      "@types/react": "^18.2.0",`}</Code>,
  <Code>{`16      "typescript": "^5.0.0",`}</Code>,
  <Code>{`17      "vite": "^5.0.0"`}</Code>,
  <Code>{`18    }`}</Code>,
  <Code>{`19  }`}</Code>,
  <Text> </Text>,
  <Text>{"No test framework configured. Let me check what functions need coverage."}</Text>,
  <Text> </Text>,
  <Tool name="Read" args="src/utils/validate.ts" />,
  <Text>{"  ⎿  Read 38 lines"}</Text>,
  <Text> </Text>,
  <Code>{` 1  export function isValidEmail(email: string): boolean {`}</Code>,
  <Code>{` 2    const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;`}</Code>,
  <Code>{` 3    return re.test(email);`}</Code>,
  <Code>{` 4  }`}</Code>,
  <Code>{` 5`}</Code>,
  <Code>{` 6  export function isValidPassword(password: string): boolean {`}</Code>,
  <Code>{` 7    return password.length >= 8 &&`}</Code>,
  <Code>{` 8           /[A-Z]/.test(password) &&`}</Code>,
  <Code>{` 9           /[a-z]/.test(password) &&`}</Code>,
  <Code>{`10           /[0-9]/.test(password);`}</Code>,
  <Code>{`11  }`}</Code>,
  <Code>{`12`}</Code>,
  <Code>{`13  export function isValidUsername(username: string): boolean {`}</Code>,
  <Code>{`14    return /^[a-zA-Z0-9_]{3,20}$/.test(username);`}</Code>,
  <Code>{`15  }`}</Code>,
  <Text> </Text>,
  <Tool name="Bash" args="npm run coverage" />,
  <Text>{`  ⎿  Command completed`}</Text>,
  <Text> </Text>,
  <Text>{`----------------------|---------|----------|---------|`}</Text>,
  <Text>{`File                  | % Stmts | % Branch | % Funcs |`}</Text>,
  <Text>{`----------------------|---------|----------|---------|`}</Text>,
  <Text>{`src/utils/format.ts   |   45.2  |    30.0  |   40.0  |`}</Text>,
  <Text>{`src/utils/validate.ts |   12.5  |     0.0  |   16.6  |`}</Text>,
  <Text>{`src/api/client.ts     |   67.8  |    55.0  |   70.0  |`}</Text>,
  <Text>{`----------------------|---------|----------|---------|`}</Text>,
  <Text> </Text>,
  <Tool name="Glob" args="**/*.test.ts" />,
  <Text>{"  ⎿  No files found"}</Text>,
  <Text> </Text>,
  <Text>{"Found "}<Text bold>12 untested functions</Text>{" across 3 files. No test framework is configured yet."}</Text>,
  <Text> </Text>,
  <Response>Which test framework would you like to use?</Response>,
  <Text> </Text>,
  <Option id="opt1" index={1} recommended description="Fast, ESM-native, works with your Vite setup">Vitest</Option>,
  <Option id="opt2" index={2} description="Popular, large ecosystem">Jest</Option>,
  <Option id="opt3" index={3} description="Built-in, zero config">Node.js test runner</Option>,
  <Text> </Text>,
];

// Agent 2: Fix navbar - outputLines as array
const agent2OutputLines = [
  <Prompt>The navbar is broken on mobile, can you fix it?</Prompt>,
  <Text> </Text>,
  <Response>I'll investigate the navbar responsive issues and fix them.</Response>,
  <Text> </Text>,
  <Tool name="Grep" args='"navbar" --type tsx' />,
  <Text>{`  ⎿  Found 2 files`}</Text>,
  <Text>{`     src/components/Navbar.tsx`}</Text>,
  <Text>{`     src/components/Layout.tsx`}</Text>,
  <Text> </Text>,
  <Tool name="Read" args="src/components/Navbar.tsx" />,
  <Text>{"  ⎿  Read 78 lines"}</Text>,
  <Text> </Text>,
  <Code>{`22  const NavbarContainer = styled.nav\``}</Code>,
  <Code>{`23    display: flex;`}</Code>,
  <Code>{`24    justify-content: space-between;`}</Code>,
  <Code>{`25    align-items: center;`}</Code>,
  <Code>{`26    padding: 1rem 2rem;`}</Code>,
  <Code>{`27    background: white;`}</Code>,
  <Code>{`28    box-shadow: 0 2px 4px rgba(0,0,0,0.1);`}</Code>,
  <Code>{`29`}</Code>,
  <Code>{`30    @media (max-width: 640px) {`}</Code>,
  <Code>{`31      padding: 0.5rem 1rem;`}</Code>,
  <Code>{`32    }`}</Code>,
  <Code>{`33  \`;`}</Code>,
  <Code>{`34`}</Code>,
  <Code>{`35  const MobileMenu = styled.div\``}</Code>,
  <Code>{`36    display: none;`}</Code>,
  <Code>{`37    position: absolute;`}</Code>,
  <Code>{`38    top: 60px;`}</Code>,
  <Code>{`39    left: 0;`}</Code>,
  <Code>{`40    right: 0;`}</Code>,
  <Code>{`41    background: white;`}</Code>,
  <Code>{`42    z-index: 10;`}</Code>,
  <Code>{`43`}</Code>,
  <Code>{`44    @media (max-width: 640px) {`}</Code>,
  <Code>{`45      display: block;`}</Code>,
  <Code>{`46    }`}</Code>,
  <Code>{`47  \`;`}</Code>,
  <Code>{`48`}</Code>,
  <Code>{`49  const HamburgerButton = styled.button\``}</Code>,
  <Code>{`50    display: none;`}</Code>,
  <Code>{`51    background: none;`}</Code>,
  <Code>{`52    border: none;`}</Code>,
  <Code>{`53    cursor: pointer;`}</Code>,
  <Code>{`54  \`;`}</Code>,
  <Text> </Text>,
  <Text>{"Found the issue - the hamburger button has display:none but is never shown on mobile. Also the MobileMenu z-index conflicts with the header."}</Text>,
  <Text> </Text>,
  <Tool name="Update" args="src/components/Navbar.tsx" />,
  <Text>{"  ⎿  Added 8 lines, removed 4 lines"}</Text>,
  <Text> </Text>,
  <Code>{`49 -const HamburgerButton = styled.button\``}</Code>,
  <Code>{`50 -  display: none;`}</Code>,
  <Code>{`51 -  background: none;`}</Code>,
  <Code>{`52 -  border: none;`}</Code>,
  <Code>{`53 -  cursor: pointer;`}</Code>,
  <Code>{`54 -\`;`}</Code>,
  <Code>{`55 +const HamburgerButton = styled.button\``}</Code>,
  <Code>{`56 +  display: none;`}</Code>,
  <Code>{`57 +  background: none;`}</Code>,
  <Code>{`58 +  border: none;`}</Code>,
  <Code>{`59 +  cursor: pointer;`}</Code>,
  <Code>{`60 +  padding: 0.5rem;`}</Code>,
  <Code>{`61 +`}</Code>,
  <Code>{`62 +  @media (max-width: 640px) {`}</Code>,
  <Code>{`63 +    display: flex;`}</Code>,
  <Code>{`64 +    align-items: center;`}</Code>,
  <Code>{`65 +  }`}</Code>,
  <Code>{`66 +\`;`}</Code>,
  <Text> </Text>,
  <Tool name="Update" args="src/components/Navbar.tsx" />,
  <Text>{"  ⎿  Added 1 line, removed 1 line"}</Text>,
  <Text> </Text>,
  <Code>{`42 -  z-index: 10;`}</Code>,
  <Code>{`43 +  z-index: 100;`}</Code>,
  <Text> </Text>,
  <Tool name="Bash" args="npm run build" />,
  <Text>{`  ⎿  Command completed`}</Text>,
  <Text> </Text>,
  <Text>{`✓ Build completed successfully`}</Text>,
  <Text> </Text>,
  <Text>{"Done. The navbar now displays correctly on mobile devices."}</Text>,
  <Text> </Text>,
  <Text dimColor>{"✻ Cooked for 42s"}</Text>,
  <Text> </Text>,
];

// Agent 4: Add migrations - outputLines as array
const agent4OutputLines = [
  <Prompt>Add database migration support with automatic schema versioning</Prompt>,
  <Text> </Text>,
  <Response>I'll implement a migration system that tracks schema versions and applies changes incrementally.</Response>,
  <Text> </Text>,
  <Tool name="Glob" args="src/db/**/*.ts" />,
  <Text>{`  ⎿  Found 3 files`}</Text>,
  <Text>{`     src/db/index.ts`}</Text>,
  <Text>{`     src/db/client.ts`}</Text>,
  <Text>{`     src/db/schema.ts`}</Text>,
  <Text> </Text>,
  <Tool name="Read" args="src/db/schema.ts" />,
  <Text>{"  ⎿  Read 34 lines"}</Text>,
  <Text> </Text>,
  <Code>{` 1  import { pgTable, serial, text, timestamp } from 'drizzle-orm/pg-core';`}</Code>,
  <Code>{` 2`}</Code>,
  <Code>{` 3  export const users = pgTable('users', {`}</Code>,
  <Code>{` 4    id: serial('id').primaryKey(),`}</Code>,
  <Code>{` 5    email: text('email').notNull().unique(),`}</Code>,
  <Code>{` 6    name: text('name').notNull(),`}</Code>,
  <Code>{` 7    createdAt: timestamp('created_at').defaultNow(),`}</Code>,
  <Code>{` 8  });`}</Code>,
  <Code>{` 9`}</Code>,
  <Code>{`10  export const posts = pgTable('posts', {`}</Code>,
  <Code>{`11    id: serial('id').primaryKey(),`}</Code>,
  <Code>{`12    title: text('title').notNull(),`}</Code>,
  <Code>{`13    content: text('content'),`}</Code>,
  <Code>{`14    authorId: serial('author_id').references(() => users.id),`}</Code>,
  <Code>{`15    createdAt: timestamp('created_at').defaultNow(),`}</Code>,
  <Code>{`16  });`}</Code>,
  <Text> </Text>,
  <Text>{"Using Drizzle ORM. I'll create a migrations directory and version tracking table."}</Text>,
  <Text> </Text>,
  <Tool name="Bash" args="mkdir -p src/db/migrations" />,
  <Text>{"  ⎿  Command completed"}</Text>,
  <Text> </Text>,
  <Tool name="Write" args="src/db/migrate.ts" />,
  <Text>{"  ⎿  Wrote 67 lines"}</Text>,
  <Text> </Text>,
  <Code>{` 1  import { drizzle } from 'drizzle-orm/postgres-js';`}</Code>,
  <Code>{` 2  import { migrate } from 'drizzle-orm/postgres-js/migrator';`}</Code>,
  <Code>{` 3  import postgres from 'postgres';`}</Code>,
  <Code>{` 4  import { config } from '../config';`}</Code>,
  <Code>{` 5`}</Code>,
  <Code>{` 6  const migrationClient = postgres(config.databaseUrl, { max: 1 });`}</Code>,
  <Code>{` 7`}</Code>,
  <Code>{` 8  async function runMigrations() {`}</Code>,
  <Code>{` 9    const db = drizzle(migrationClient);`}</Code>,
  <Code>{`10`}</Code>,
  <Code>{`11    console.log('Running migrations...');`}</Code>,
  <Code>{`12`}</Code>,
  <Code>{`13    await migrate(db, {`}</Code>,
  <Code>{`14      migrationsFolder: './src/db/migrations',`}</Code>,
  <Code>{`15    });`}</Code>,
  <Code>{`16`}</Code>,
  <Code>{`17    console.log('Migrations complete!');`}</Code>,
  <Code>{`18    await migrationClient.end();`}</Code>,
  <Code>{`19  }`}</Code>,
  <Code>{`20`}</Code>,
  <Code>{`21  runMigrations().catch((err) => {`}</Code>,
  <Code>{`22    console.error('Migration failed:', err);`}</Code>,
  <Code>{`23    process.exit(1);`}</Code>,
  <Code>{`24  });`}</Code>,
  <Text> </Text>,
  <Tool name="Write" args="src/db/migrations/0001_initial.sql" />,
  <Text>{"  ⎿  Wrote 24 lines"}</Text>,
  <Text> </Text>,
  <Code>{` 1  -- Migration: 0001_initial`}</Code>,
  <Code>{` 2  -- Created: 2024-01-15`}</Code>,
  <Code>{` 3`}</Code>,
  <Code>{` 4  CREATE TABLE IF NOT EXISTS users (`}</Code>,
  <Code>{` 5    id SERIAL PRIMARY KEY,`}</Code>,
  <Code>{` 6    email TEXT NOT NULL UNIQUE,`}</Code>,
  <Code>{` 7    name TEXT NOT NULL,`}</Code>,
  <Code>{` 8    created_at TIMESTAMP DEFAULT NOW()`}</Code>,
  <Code>{` 9  );`}</Code>,
  <Code>{`10`}</Code>,
  <Code>{`11  CREATE TABLE IF NOT EXISTS posts (`}</Code>,
  <Code>{`12    id SERIAL PRIMARY KEY,`}</Code>,
  <Code>{`13    title TEXT NOT NULL,`}</Code>,
  <Code>{`14    content TEXT,`}</Code>,
  <Code>{`15    author_id INTEGER REFERENCES users(id),`}</Code>,
  <Code>{`16    created_at TIMESTAMP DEFAULT NOW()`}</Code>,
  <Code>{`17  );`}</Code>,
  <Code>{`18`}</Code>,
  <Code>{`19  CREATE INDEX idx_posts_author ON posts(author_id);`}</Code>,
  <Text> </Text>,
  <Tool name="Update" args="package.json" />,
  <Text>{"  ⎿  Added 2 lines"}</Text>,
  <Text> </Text>,
  <Code>{` 8      "build": "vite build",`}</Code>,
  <Code>{` 9 +    "db:migrate": "tsx src/db/migrate.ts",`}</Code>,
  <Code>{`10 +    "db:generate": "drizzle-kit generate:pg",`}</Code>,
  <Code>{`11      "preview": "vite preview"`}</Code>,
  <Text> </Text>,
  <Tool name="Bash" args="npm run db:migrate" />,
  <Text>{`  ⎿  Command completed`}</Text>,
  <Text> </Text>,
  <Text>{`Running migrations...`}</Text>,
  <Text>{`Applied migration: 0001_initial`}</Text>,
  <Text>{`Migrations complete!`}</Text>,
  <Text> </Text>,
  <Text dimColor>{"✻ Cooked for 1m 34s"}</Text>,
  <Text> </Text>,
];

// Agent 5: Slash command menu - outputLines showing plan approval
const agent5OutputLines = [
  <Prompt>Implement a slash command menu feature</Prompt>,
  <Text> </Text>,
  <Response>I'll create a CommandMenu component that appears when you type "/" in the prompt.</Response>,
  <Text> </Text>,
  <Tool name="Read" args="src/App.tsx" />,
  <Text>{"  ⎿  Read 233 lines"}</Text>,
  <Text> </Text>,
  <Tool name="Read" args="src/types.ts" />,
  <Text>{"  ⎿  Read 26 lines"}</Text>,
  <Text> </Text>,
  <Tool name="Read" args="src/components/index.ts" />,
  <Text>{"  ⎿  Read 12 lines"}</Text>,
  <Text> </Text>,
  <Text>{"I've analyzed the codebase. Here's my implementation plan:"}</Text>,
  <Text> </Text>,
  <Text bold color="blue"># Slash Command Menu Implementation Plan</Text>,
  <Text> </Text>,
  <Text bold>## Overview</Text>,
  <Text>{"Implement a CommandMenu component that appears when user types \"/\" in"}</Text>,
  <Text>{"PromptInput, replacing the StatusBar. Users can navigate with arrow keys and"}</Text>,
  <Text>{"filter by typing."}</Text>,
  <Text> </Text>,
  <Text bold>## Files to Modify/Create</Text>,
  <Text> </Text>,
  <Text>{`| File                             | Action                              |`}</Text>,
  <Text>{`|----------------------------------|-------------------------------------|`}</Text>,
  <Text>{`| src/types.ts                     | Add Command interface               |`}</Text>,
  <Text>{`| src/components/CommandMenu.tsx   | Create new component                |`}</Text>,
  <Text>{`| src/components/index.ts          | Export CommandMenu                  |`}</Text>,
  <Text>{`| src/App.tsx                      | Add command menu state and handling |`}</Text>,
  <Text> </Text>,
  <Text bold>## Implementation Steps</Text>,
  <Text> </Text>,
  <Text bold>### 1. Add Command type (src/types.ts)</Text>,
  <Code>{`export interface Command {`}</Code>,
  <Code>{`  name: string;`}</Code>,
  <Code>{`  description: string;`}</Code>,
  <Code>{`}`}</Code>,
  <Text> </Text>,
  <Text bold>### 2. Create CommandMenu component</Text>,
  <Text dimColor>Props: commands, selectedIndex, filter</Text>,
  <Text dimColor>Behavior: Show max 6 commands, first highlighted in magentaBright</Text>,
  <Text> </Text>,
  <Text bold>### 3. Update App.tsx</Text>,
  <Text>{"• Derive showCommandMenu from inputValue.startsWith(\"/\")"}</Text>,
  <Text>{"• Filter commands by word-boundary matching"}</Text>,
  <Text>{"• Arrow keys navigate, Enter selects, Escape closes"}</Text>,
  <Text> </Text>,
  <Text bold>### 4. Export CommandMenu</Text>,
  <Code>{`export { CommandMenu } from "./CommandMenu.js";`}</Code>,
  <Text> </Text>,
  <Text bold>## Verification</Text>,
  <Text>{"• Type \"/\" → CommandMenu appears with 6 commands"}</Text>,
  <Text>{"• Type \"/cl\" → filters to \"clear\" and \"compact\""}</Text>,
  <Text>{"• Arrow ↓/↑ → selection moves"}</Text>,
  <Text>{"• Enter → menu closes, input clears"}</Text>,
  <Text>{"• Escape → menu closes, input clears"}</Text>,
  <Text> </Text>,
  <Response>Would you like to continue with this plan?</Response>,
  <Text> </Text>,
  <Option id="5-opt1" index={1} recommended>Yes, manually approve edits</Option>,
  <Option id="5-opt2" index={2} description="shift+tab">Yes, allow all edits during this session</Option>,
  <Option id="5-opt3" index={3}>No</Option>,
  <Text> </Text>,
];

export const mockAgents: Agent[] = [
  {
    id: "1",
    name: "Refactor auth",
    status: "working",
    tasks: [
      { id: "1-1", name: "Analyze auth implementation in src/auth/*.ts", status: "completed" },
      { id: "1-2", name: "Extract JWT token logic into dedicated TokenService", status: "completed" },
      { id: "1-3", name: "Create AuthService class with unified interface", status: "in_progress" },
      { id: "1-4", name: "Migrate existing auth calls to new service", status: "pending" },
      { id: "1-5", name: "Run tests and verify auth flows work", status: "pending" },
    ],
    outputLines: agent1OutputLines,
  },
  {
    id: "2",
    name: "Fix navbar",
    status: "done",
    tasks: [
      { id: "2-1", name: "Identify responsive breakpoint issues in Navbar.tsx", status: "completed" },
      { id: "2-2", name: "Fix mobile menu z-index conflicts with header", status: "completed" },
      { id: "2-3", name: "Add hamburger button visibility for viewports < 640px", status: "completed" },
      { id: "2-4", name: "Test across viewport sizes (320px, 640px, 1024px)", status: "completed" },
      { id: "2-5", name: "Verify no visual regressions on desktop", status: "completed" },
    ],
    outputLines: agent2OutputLines,
    suggestion: "Commit fix navbar changes",
  },
  {
    id: "3",
    name: "Write tests",
    status: "needs_input",
    tasks: [
      { id: "3-1", name: "Audit codebase for untested functions", status: "completed" },
      { id: "3-2", name: "Configure test framework (Vitest/Jest)", status: "in_progress" },
      { id: "3-3", name: "Write unit tests for utility functions", status: "pending" },
      { id: "3-4", name: "Add integration tests for API client", status: "pending" },
      { id: "3-5", name: "Set up coverage thresholds in CI", status: "pending" },
    ],
    outputLines: agent3OutputLines,
    optionIds: ["opt1", "opt2", "opt3"],
  },
  {
    id: "4",
    name: "Add migrations",
    status: "done",
    tasks: [
      { id: "4-1", name: "Analyze existing Drizzle schema in src/db/schema.ts", status: "completed" },
      { id: "4-2", name: "Create migrations directory and migrate.ts runner", status: "completed" },
      { id: "4-3", name: "Generate initial SQL migration from schema", status: "completed" },
      { id: "4-4", name: "Add db:migrate and db:generate npm scripts", status: "completed" },
      { id: "4-5", name: "Run migrations and verify tables created", status: "completed" },
    ],
    outputLines: agent4OutputLines,
    suggestion: "Test migrations",
  },
  {
    id: "5",
    name: "Slash command menu",
    status: "needs_input",
    tasks: [
      { id: "5-1", name: "Analyze existing App.tsx and types.ts structure", status: "completed" },
      { id: "5-2", name: "Create implementation plan for CommandMenu", status: "completed" },
      { id: "5-3", name: "Get user approval for plan", status: "in_progress" },
      { id: "5-4", name: "Implement CommandMenu component", status: "pending" },
      { id: "5-5", name: "Add keyboard navigation and filtering", status: "pending" },
    ],
    outputLines: agent5OutputLines,
    optionIds: ["5-opt1", "5-opt2", "5-opt3"],
  },
];
